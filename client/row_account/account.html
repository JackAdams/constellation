<template name="Constellation_account_status">
  
  {{#unless Constellation_switching_account}}  
    {{> Constellation_onOffLight currentUser}}
  {{else}}
    {{#with "users"}}
      {{> Constellation_collection_count}}
    {{/with}}
  {{/unless}}

</template>

<template name="Constellation_current_account">
  <span class="Constellation_current_account">
    {{currentAccount}}
  </span>
</template>

<template name="Constellation_account_view">
  
  {{#if currentUserOrSwitchingAccount}}
    {{> Constellation_accountViewer}}
  {{else}}
    <div class="Constellation_docBar1">
      {{#if accountCount}}
        Not signed in
      {{else}}
        {{#with "users"}}
          {{> Constellation_docInsert_main}}
        {{/with}}
      {{/if}}
    </div>
  {{/if}}

</template>

<template name="Constellation_account_controls">
  
  {{> Constellation_docControls}}
  
</template>

<template name="Constellation_account_search">
  {{#if Constellation_switching_account}}
    {{#with "users"}}
      {{> Constellation_search}}
    {{/with}}
  {{/if}}

</template>

<template name="Constellation_account_guide">

  <ul>
    <li>To impersonate user accounts, you must publish documents from the users collection. <strong>constellation:autopublish</strong> is very useful for this.</li>
    <li>Click <strong>Choose account</strong>, then flick through the user documents (or click the <strong>?</strong> icon to search) until you have the right user, then click <strong>Impersonate</strong>.</li>
    <li>Or COMMAND + click the correct 'users' <strong>_id</strong> value from a document in another collection -- this is a quick way to get the user account you want.</li>
    <li>You can edit the user document, as you would edit a document in any other collection.</li>
    <li>You can sign out and then impersonate another account, or just click <strong>Switch</strong> and impersonate a different account without signing out.</li>
  </ul>

</template>